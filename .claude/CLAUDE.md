# CLAUDE.md - Project Context

## Project Overview

Assignment 4 starter kit for UCLA Extension's Agentic AI course. Students build a multi-agent customer support system using Google ADK and the A2A (Agent-to-Agent) protocol.

## Tech Stack

- **Python**: 3.11+
- **Agent Framework**: Google ADK 1.9.0
- **AI Models**: Gemini 2.5 Flash (google-genai)
- **Agent Protocol**: A2A SDK 0.3.0
- **MCP Server**: MCP Python SDK / FastMCP (provided, SSE transport)
- **MCP Integration**: Google ADK McpToolset (auto-discovers tools via SSE)
- **Database**: SQLite3 (provided)
- **Communication**: JSON-RPC 2.0, A2A Protocol

## Project Structure

```
assignment-4/
├── database/
│   └── database_setup.py      # Given: DB init + sample data
├── mcp_server/
│   ├── app.py                 # Given: FastMCP server (15 tools, SSE transport)
│   ├── config.py              # Given: Server config
│   └── database.py            # Given: DatabaseManager
├── agents/
│   ├── shared/
│   │   ├── agents_config.py   # Given: URLs, ports, model
│   │   ├── mcp_toolset.py     # STUDENT: Configure McpToolset with tool_filter
│   │   └── a2a_compat.py      # Given: ADK/A2A compat patch
│   ├── customer_data_agent/
│   │   └── agent.py           # STUDENT: Data agent + instruction
│   ├── support_agent/
│   │   └── agent.py           # STUDENT: Support agent + KB
│   ├── host_agent/
│   │   ├── __init__.py        # Given: Mode switching
│   │   ├── agent.py           # STUDENT: SequentialAgent
│   │   ├── advanced_router_agent.py  # BONUS: Dynamic routing
│   │   └── parallel_router_agent.py  # BONUS: Parallel execution
│   └── create_agents.py       # STUDENT: AgentCards + factory
├── run_agents.py              # Given: Agent server runner
├── test_scenarios.py          # Given: 10 test scenarios
├── tests/
│   ├── test_mcp_toolset.py    # Part 1 verification
│   ├── test_agents.py         # Part 2 verification
│   └── test_a2a.py            # A2A integration checks
└── docs/
    └── reflection_template.md
```

## Student Tasks

**Part 1 (40 pts):** McpToolset Configuration + Customer Data Agent
1. Configure McpToolset factories in `agents/shared/mcp_toolset.py`
2. Create customer data agent with instruction in `agents/customer_data_agent/agent.py`
3. Quality agent instructions

**Part 2 (40 pts):** Multi-Agent A2A System
1. Create support agent in `agents/support_agent/agent.py`
2. Create host agent (SequentialAgent) in `agents/host_agent/agent.py`
3. Define AgentCards in `agents/create_agents.py`
4. Wire up A2A with RemoteA2aAgent

**Part 3 (20 pts):** Code Quality
1. Docstrings, type hints, organization

**Bonus (+25 pts):** Advanced routing modes

## Key Commands

```bash
# Setup
conda create -n a2a-agents python=3.11 -y
conda activate a2a-agents
pip install -r requirements.txt
cp .env.example .env

# Database
cd database && python database_setup.py && cd ..

# MCP Server
cd mcp_server && python app.py &

# Agents
python run_agents.py --mode start

# Tests
python -m tests.test_mcp_toolset
python -m tests.test_agents
python -m tests.test_a2a
python test_scenarios.py

# ADK Web UI
cd agents && adk web customer_data_agent
```


<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>